package robLip6.core.tcp;
import java.util.*;
import java.net.*;
import java.io.*;
import java.util.concurrent.locks.*;
/*
 * Classe qui reçoit les données des capteurs de la LOW LEVEL
 */
public class Receiver extends Thread 
{
	private Vector<Capteur> m_capteurs;
	private Vector<Lock> m_mutexes;
	private Socket m_socket;
	
	public Receiver(ServerSocket serv) throws IOException
	{
		this.m_socket = serv.accept();
		this.initialiseBuffer();
	}
	
	/*
	 * 1) Envoie une requete TCP pour savoir combien de capteur il faut gérer
	 */
	public void initialiseBuffer()
	{
		
	}
	
	public Integer getCapteur(Integer i)
	{
		Integer result;
		//this.m_mutexes.elementAt(i).lock();
			result = this.m_bufferLowLevel.elementAt();
		//this.m_mutexes.elementAt(i).unlock();
		return result;
	}
	
	private void set(Integer i, Integer data)
	{
		this.m_mutexes.elementAt(i).lock();
			this.m_bufferLowLevel.setElementAt(data, i);
		this.m_mutexes.elementAt(i).unlock();
	}
	
	@Override
	public void run() {
		// TODO Auto-generated method stub

	}
}
